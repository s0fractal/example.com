ğŸŒŸ: "https://json-schema.org/draft/2020-12/schema"

# Custom Kairos/Sigma metadata for the general ğŸ˜‡ schema.
$intent: >
  This is the parent schema for all ğŸ˜‡ atoms. ğŸ˜‡s are autonomous ğŸ˜‡s
  that perform tasks and enforce rules within the system.

$morph:
  strength: 0.95
  density_threshold: 5

$evolve:
  on_error: "spawn:ğŸ˜‡(context:ğŸ˜‡_schema_error)"
  on_density: "fold"

# The JSON Schema definition for any ğŸ˜‡ ğŸ§¬.
ğŸ—ƒï¸: object
âœ…: [kind, ğŸ§­, spec, runtime] # Changed from intent
ğŸ“:
  kind:
    ğŸ—ƒï¸: string
    ğŸ”’: "ğŸ˜‡" # ğŸ˜‡s are a type of ğŸ˜‡
  ğŸ§­: # Changed from intent
    ğŸ—ƒï¸: object
    âœ…: [goal, role, conditions]
    ğŸ“:
      goal: { ğŸ—ƒï¸: string }
      role: { ğŸ—ƒï¸: string }
      conditions: { ğŸ—ƒï¸: array, ğŸ“¦: { ğŸ—ƒï¸: string } }
  spec:
    ğŸ—ƒï¸: object
    âœ…: [schema]
    ğŸ“:
      schema:
        ğŸ—ƒï¸: string
        â™¾ï¸: "^ğŸ ://ğŸ§ /ğŸ˜‡/.+\/ğŸ““\.yaml$"
  runtime:
    ğŸ—ƒï¸: object
    âœ…: [entrypoint, task_name]
    ğŸ“:
      # The main logic file for the angel's reflex.
      entrypoint:
        ğŸ—ƒï¸: string
        â™¾ï¸: "^ğŸ ://ğŸ§ /ğŸ˜‡/.+\/reflex\.ts$"
      # The name of the task in deno.json
      task_name:
        ğŸ—ƒï¸: string

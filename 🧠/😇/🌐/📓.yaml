# Standard JSON Schema declaration.
$schema: "https://json-schema.org/draft/2020-12/schema"
$path: "example.com/ğŸ§ /ğŸ˜‡/ğŸŒ/ğŸ““.yaml"

$intent: "Narrows the general Angel schema for the specific case of the Server (ğŸŒ) angel, whose role is to serve the repo over HTTP."

allOf:
  # 1. Inherit common properties from the parent Angel schema.
  - $ref: "example.com/ğŸ§ /ğŸ˜‡/ğŸ““.yaml"

  # 2. Add specific, narrowing constraints for the Server angel.
  - type: object
    properties:
      id:
        const: "seed://agent.server.v1"
      intent:
        properties:
          goal:
            const: "To serve the project repository over HTTP at example.com"
          role:
            const: "HTTP interface for the digital organism."
          conditions:
            const: ["on:demand"]
      spec:
        properties:
          schema:
            const: "example.com/ğŸ§ /ğŸ˜‡/ğŸŒ/ğŸ““.yaml"
      runtime:
        properties:
          entrypoint:
            const: "example.com/ğŸ§ /ğŸ˜‡/ğŸŒ/âš™ï¸.ts"
          task_name:
            const: "serve"
    required:
      - id

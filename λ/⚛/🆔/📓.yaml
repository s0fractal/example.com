ğŸŒŸ: "https://json-schema.org/draft/2020-12/schema"
# The schema itself must know where it lives.
$path: "example.com/Î»/âš›/ğŸ†”/ğŸ““.yaml"

# Custom Kairos/Sigma metadata for the Identity morphism.
$intent: "Narrows the general Morphism schema for the specific case of Identity (ğŸ†”)."
$evolve:
  on_error: "system:panic" # An error in Identity is a critical failure.

ğŸ¤:
  # 1. Inherit all common properties from the parent morphism schema.
  - â¡ï¸: "example.com/Î»/ğŸ““.yaml"

  # 2. Add specific, narrowing constraints for the Identity morphism.
  - ğŸ—ƒï¸: object
    ğŸ“:
      # Enforce the M0 Beacon principle for the ğŸ§¬ file itself.
      "$path":
        ğŸ”’: "example.com/Î»/âš›/ğŸ†”/ğŸ§¬.yaml"
      id:
        â™¾ï¸: "^ğŸ§¬://morphism\.identity\.v[0-9]+$"
      ğŸ”—: # links
        # Identity has no dependencies, so the array must be empty.
        maxItems: 0
      ğŸ”Œ: # io
        ğŸ“:
          input: { maxItems: 1, minItems: 1 }
          output: { maxItems: 1, minItems: 1 }
      ğŸ“œ: # spec
        ğŸ“:
          schema:
            ğŸ”’: "example.com/Î»/âš›/ğŸ†”/ğŸ““.yaml"
          purity:
            ğŸ”’: "100% (referentially transparent)"
          category_theory:
            ğŸ”’: "Neutral element for function composition"
          layout:
            ğŸ—ƒï¸: object
            ğŸ“:
              strict: { ğŸ—ƒï¸: boolean, ğŸ”’: true }
              files:
                ğŸ—ƒï¸: array
                ğŸ“¦: { ğŸ—ƒï¸: string }
                ğŸ”’:
                  - "ğŸ§¬.yaml"
                  - "ğŸ““.yaml"
                  - "README.md"
                  - "proof.yaml"
              dirs:
                ğŸ—ƒï¸: array
                ğŸ“¦: { ğŸ—ƒï¸: string }
                maxItems: 0
        âœ…:
          - schema
          - purity
          - category_theory
          - layout
    âœ…:
      - id
      - "$path"
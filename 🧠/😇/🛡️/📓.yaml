# Standard JSON Schema declaration.
$schema: "https://json-schema.org/draft/2020-12/schema"
$path: "example.com/ğŸ§ /ğŸ˜‡/ğŸ›¡ï¸/ğŸ““.yaml"

$intent: "Narrows the general ğŸ˜‡ schema for the specific case of the Guardian (ğŸ›¡ï¸) ğŸ˜‡, whose role is to enforce M0 Beacon."

allOf:
  # 1. Inherit common properties from the parent ğŸ˜‡ schema.
  - $ref: "example.com/ğŸ§ /ğŸ˜‡/ğŸ““.yaml"

  # 2. Add specific, narrowing constraints for the Guardian ğŸ˜‡.
  - type: object
    properties:
      id:
        const: "ğŸ§¬://ğŸ˜‡.guardian.v1"
      intent:
        properties:
          goal:
            const: "Enforce the M0 Beacon (Holographic Identity) principle across all atoms."
          role:
            const: "Guardian of structural integrity."
          conditions:
            const: ["on:commit", "on:demand"]
      spec:
        properties:
          schema:
            const: "example.com/ğŸ§ /ğŸ˜‡/ğŸ›¡ï¸/ğŸ““.yaml"
      runtime:
        properties:
          entrypoint:
            const: "example.com/ğŸ§ /ğŸ˜‡/ğŸ›¡ï¸/reflex.ts"
          task_name:
            const: "shield:check"
    required:
      - id
